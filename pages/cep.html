<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projeto</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../styles.css">
    <script src="../js/cep.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.js"
        integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous">
        </script>
    <script>
        $(function () {
            $("#header").load("../includes/header.html");
            $("#footer").load("../includes/footer.html");
            // $("#footer").load("footer.html");
        });

        window.onload = function () {

            document.getElementById('cep').value = localStorage.cep; //
            dados = JSON.parse(localStorage.dados); // Retrieve data from localStorage
            if (dados) {
                document.getElementById('cep').innerText = `CEP: ${dados.cep}`;
                document.getElementById('cidade').innerText = `Cidade: ${dados.city} - ${dados.state}`;
                document.getElementById('bairro').innerText = `Bairro: ${dados.neighborhood}`;
                document.getElementById('rua').innerText = `Rua: ${dados.street}`;
                document.getElementById('titulo').innerText = 'Resultado anterior';
                document.getElementById('data').innerText = localStorage.getItem('data');
            }

            document.getElementById('erro').innerText = localStorage.erro || '';

        };
    </script>
</head>


<body>
    <div id="header"></div>

    <div class="container mt-5 formulario">
        <p>
        <h1 class="text-center">CEP</h1>
        <h2 class="text-center">API busca CEP</h2>
        </p>
        <p class="text-center">Preencha o campo abaixo para obter os dadis da localização desejada.</p>
        <form action="" method="post" class="d-flex flex-column align-items-center">
            <input type="number" id="cep" placeholder="Digite seu CEP" class="form-control mb-2">

            <div>

                <button type="button" class="btn btn-primary" onclick="buscaCEP()">Enviar</button>
                <button type="reset" class="btn btn-secondary">Limpar</button>
            </div>
        </form>


        <div class="container mt-5">
            <h2 class="text-center" id="titulo">Resultado</h2>
            <span id="data"></span>
            <div id="result" class="text-center">
                <span id="rua"></span><br>
                <span id="bairro"></span><br>
                <span id="cidade"></span><br>
                <span id="erro"></span>
                <span id="cep"></span>
            </div>

        </div>
    </div>
    <div id="footer"></div>
</body>


</html>